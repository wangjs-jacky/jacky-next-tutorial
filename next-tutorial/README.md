# Next.js App Router å®Œæ•´ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªå…¨é¢çš„ Next.js App Router DEMOï¼Œè¦†ç›–äº†æ‰€æœ‰ä¸»è¦åœºæ™¯å’ŒåŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# è¿è¡Œç”Ÿäº§ç‰ˆæœ¬
pnpm start
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
my-app/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (dashboard)/          # è·¯ç”±ç»„ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ layout.tsx        # åµŒå¥—å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ page.tsx         # ä»ªè¡¨ç›˜é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ settings/        # è®¾ç½®é¡µé¢
â”‚   â”‚   â””â”€â”€ analytics/        # åˆ†æé¡µé¢
â”‚   â”œâ”€â”€ about/                # é™æ€é¡µé¢
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ products/              # äº§å“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ page.tsx         # äº§å“åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ [id]/            # åŠ¨æ€è·¯ç”±
â”‚   â”‚       â”œâ”€â”€ page.tsx
â”‚   â”‚       â””â”€â”€ not-found.tsx
â”‚   â”œâ”€â”€ blog/                 # åšå®¢ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚       â”œâ”€â”€ page.tsx
â”‚   â”‚       â””â”€â”€ not-found.tsx
â”‚   â”œâ”€â”€ loading-demo/         # åŠ è½½çŠ¶æ€ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ loading.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ error-demo/           # é”™è¯¯å¤„ç†ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ error.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ api-demo/             # API è·¯ç”±æ¼”ç¤º
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ server-actions/        # Server Actions ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ actions.ts
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ client-demo/           # å®¢æˆ·ç«¯ç»„ä»¶ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ middleware-demo/       # ä¸­é—´ä»¶æ¼”ç¤º
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ api/                  # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ hello/
â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”œâ”€â”€ layout.tsx            # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx              # é¦–é¡µ
â”‚   â””â”€â”€ globals.css           # å…¨å±€æ ·å¼
â”œâ”€â”€ middleware.ts             # ä¸­é—´ä»¶
â””â”€â”€ package.json
```

## âœ¨ æ¶µç›–çš„åŠŸèƒ½

### 1. é™æ€è·¯ç”±å’Œé¡µé¢
- **ä½ç½®**: `app/about/page.tsx`
- **è·¯ç”±**: `/about`
- **è¯´æ˜**: å±•ç¤ºé™æ€é¡µé¢çš„åˆ›å»ºå’Œå…ƒæ•°æ®é…ç½®

### 2. åŠ¨æ€è·¯ç”±
- **ä½ç½®**: `app/products/[id]/page.tsx`
- **è·¯ç”±**: `/products/:id`
- **è¯´æ˜**: 
  - ä½¿ç”¨åŠ¨æ€è·¯ç”±å‚æ•°
  - `generateMetadata` åŠ¨æ€ç”Ÿæˆå…ƒæ•°æ®
  - `notFound()` å¤„ç† 404

### 3. è·¯ç”±ç»„
- **ä½ç½®**: `app/(dashboard)/`
- **è·¯ç”±**: `/dashboard`, `/dashboard/settings`, `/dashboard/analytics`
- **è¯´æ˜**: 
  - ä½¿ç”¨æ‹¬å·ç»„ç»‡è·¯ç”±
  - ä¸å½±å“ URL è·¯å¾„
  - å…±äº«å¸ƒå±€

### 4. åŠ è½½çŠ¶æ€
- **ä½ç½®**: `app/loading-demo/loading.tsx`
- **è¯´æ˜**: 
  - ä½¿ç”¨ `loading.tsx` æ˜¾ç¤ºåŠ è½½çŠ¶æ€
  - æ”¯æŒ Suspense è¾¹ç•Œ

### 5. é”™è¯¯å¤„ç†
- **ä½ç½®**: `app/error-demo/error.tsx`
- **è¯´æ˜**: 
  - ä½¿ç”¨ `error.tsx` æ•è·é”™è¯¯
  - å¿…é¡»æ˜¯å®¢æˆ·ç«¯ç»„ä»¶
  - æ”¯æŒ `reset()` é‡è¯•

### 6. API è·¯ç”±ï¼ˆè·¯ç”±å¤„ç†ç¨‹åºï¼‰
- **ä½ç½®**: `app/api/hello/route.ts`
- **è·¯ç”±**: `/api/hello`
- **è¯´æ˜**: 
  - æ”¯æŒ GETã€POSTã€PUTã€DELETE ç­‰æ–¹æ³•
  - è¿”å› `NextResponse` å¯¹è±¡

### 7. Server Actions
- **ä½ç½®**: `app/server-actions/actions.ts`
- **è¯´æ˜**: 
  - ä½¿ç”¨ `"use server"` æŒ‡ä»¤
  - æ”¯æŒè¡¨å•æäº¤å’Œå®¢æˆ·ç«¯è°ƒç”¨
  - ä½¿ç”¨ `useTransition` å¤„ç†åŠ è½½çŠ¶æ€

### 8. å®¢æˆ·ç«¯ç»„ä»¶
- **ä½ç½®**: `app/client-demo/page.tsx`
- **è¯´æ˜**: 
  - ä½¿ç”¨ `"use client"` æŒ‡ä»¤
  - æ”¯æŒ React Hooks
  - æ”¯æŒæµè§ˆå™¨ API å’Œäº‹ä»¶å¤„ç†

### 9. åšå®¢ç¤ºä¾‹
- **ä½ç½®**: `app/blog/`
- **è¯´æ˜**: 
  - å®Œæ•´çš„åšå®¢åŠŸèƒ½
  - åŠ¨æ€è·¯ç”±å’Œé™æ€ç”Ÿæˆ
  - SEO å‹å¥½çš„ URL

### 10. ä¸­é—´ä»¶
- **ä½ç½®**: `middleware.ts`
- **è¯´æ˜**: 
  - åœ¨è¯·æ±‚å®Œæˆå‰è¿è¡Œ
  - å¯ä»¥ä¿®æ”¹è¯·æ±‚å’Œå“åº”
  - æ”¯æŒé‡å®šå‘å’Œé‡å†™

## ğŸ¯ å­¦ä¹ è¦ç‚¹

1. **æœåŠ¡ç«¯ç»„ä»¶ vs å®¢æˆ·ç«¯ç»„ä»¶**
   - é»˜è®¤æ˜¯æœåŠ¡ç«¯ç»„ä»¶
   - éœ€è¦äº¤äº’æ—¶ä½¿ç”¨ `"use client"`

2. **æ•°æ®è·å–**
   - æœåŠ¡ç«¯ç»„ä»¶å¯ä»¥ç›´æ¥ä½¿ç”¨ `async/await`
   - æ”¯æŒ `fetch` å’Œæ•°æ®åº“æŸ¥è¯¢

3. **è·¯ç”±ç³»ç»Ÿ**
   - åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„è·¯ç”±
   - æ”¯æŒåµŒå¥—å¸ƒå±€
   - æ”¯æŒå¹¶è¡Œè·¯ç”±å’Œæ‹¦æˆªè·¯ç”±

4. **æ€§èƒ½ä¼˜åŒ–**
   - é™æ€ç”Ÿæˆï¼ˆSSGï¼‰
   - æœåŠ¡å™¨æ¸²æŸ“ï¼ˆSSRï¼‰
   - å¢é‡é™æ€å†ç”Ÿï¼ˆISRï¼‰

## ğŸ“š å‚è€ƒèµ„æº

- [Next.js å®˜æ–¹æ–‡æ¡£](https://nextjs.org/docs)
- [App Router æ–‡æ¡£](https://nextjs.org/docs/app)
- [React Server Components](https://react.dev/blog/2023/03/22/react-labs-what-we-have-been-working-on-march-2023#react-server-components)

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Next.js 16**: React æ¡†æ¶
- **React 19**: UI åº“
- **TypeScript**: ç±»å‹å®‰å…¨
- **Tailwind CSS**: æ ·å¼æ¡†æ¶

## ğŸ“ æ³¨æ„äº‹é¡¹

1. Server Actions å¿…é¡»å®šä¹‰åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­æˆ–ä½¿ç”¨ `"use server"` æŒ‡ä»¤
2. é”™è¯¯è¾¹ç•Œå¿…é¡»æ˜¯å®¢æˆ·ç«¯ç»„ä»¶
3. ä¸­é—´ä»¶åœ¨ Edge Runtime ä¸­è¿è¡Œ
4. åŠ¨æ€è·¯ç”±å‚æ•°åœ¨ Next.js 15+ ä¸­æ˜¯ Promise

## ğŸ‰ å¼€å§‹æ¢ç´¢

è®¿é—® `http://localhost:3000` æŸ¥çœ‹æ‰€æœ‰ç¤ºä¾‹ï¼
